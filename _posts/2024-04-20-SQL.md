---
layout: single
title:  "SQL 언어 정리"
categories : SQL
tag : [SQL]
typora-root-url: ../
toc: true                     # 글 목차
author_profile : false        # 게시물에서 작성자 정보 노출 유무
sidebar :                     # 작성자 정보 노출 안 할시 사이드바 설정
    nav : "docs"
search : false  # false 지정시 해당 게시물 검색 불가
---

SQL(Structured Query Language) :규격화된 질의 언어

### 1. 데이터 타입

- Number
  - Integer
  - Float
- String
- Boolean
- Null



### 2. DDL (Data Definition Language) - 데이터 정의어

데이터를 생성, 수정 삭제 등의 역할

- CREATE : 데이터 베이스, 테이블 등을 생성
- ALTER : 테이블을 수정
- DROP : 데이터베이스, 테이블을 삭제
- TRUNCATE : 테이블을 초기화



### 3. DML (Data Manipulation Language) - 데이터 조작어

테이블에 있는 행과 열을 조작하는 언어

- SELECT : 데이터 조회
- INSERT : 데이터 삽입
- UPDATE : 데이터를 수정
- DELETE : 데이터를 삭제
- WHERE : 특정 조건에 대한 필터링
- ORDER BY : 특정 열에 대한 값을 정렬
- LIMIT(TOP) : 가져올 데이터 수 제한

``` sql
-- SQL
SELECT * 
FROM STUDENT
WHERE gender = "F"
ORDER BY age [ASC(기본값)/DESC]
LIMIT 2

-- T-SQL
SELECT TOP2 *     -- 상위 2개 데이터만 가져옴
FROM STUDENT
WHERE gender = "F"
ORDER BY age [ASC(기본값)/DESC]
```

- GROUP BY : 같은 속성 값을 가진 행들을 묶음
- HAVING : 집계함수를 필터링할 때 사용

``` sql
SELECT gender, AVG(CAST(age as flaot))
FROM Customer
WHERE adult = 'Y'
GROUP BY gender -- 남성은 남성끼리, 여성은 여성끼리 묶어라
HAVING MIN(age) > 19 -- 성별 별 최소 연령이 19세 이상인 데이터만 출력

-- 집계함수를 사용할 때 null이 존재할 경우 null은 제외하여 계산
-- 속성 값이 정수를 구할 경우 결과 값도 정수형으로 나옴(평균이 실수여도 정수로 나옴)
-- -> CAST AS float를 활용하여 값을 실수형으로 변경하면 값도 실수형으로 나옴
-- AND와 OR를 사용하여 조건을 여러가지 설정 가능(WHERE, HAVING에 사용)
-- (NOT) LIKE : WHER, HVVING문에서 사용 가능, 대소문자 구분

SELECT name
FROM Customer
WHERE name LIKE "A____" -- A로 시작하는 다섯 글자


-- (NOT) IN : WHERE문에서 특정한 값이 열에 포함되어 있는 지 확인
SELECT name
FROM Customer
WHERE name IN(Song, Park)
```

- DISTINCT : 중복되는 데이터를 제거하고 출력

```sql
SELECT DISTINCT name  -- 중복되는 이름은 여러 개가 아닌 하나만 출력
FROM STUDENT
```

- CASE WHEN :

``` SQL
SELECT
	CASE
	WHEN Score > 90 THEN A
	WHEN Score > 80 THEN B
	ELSE C
	END AS grade -- END로 마무리 선언
FROM Table
```



### 4. DCL (Data Control Language) - 데이터 제어어

데이터베이스에 접근하거나 객체에 권한을 주는 등의 역할

- GRANT : 특정 데이터베이스 사용자에게 특정 작업에 대한 수행권한 부여
- REVOKE : 특정 데이터베이스 사용자에게 특정 작업에 대한 권한을 박탈, 회수
- COMMIT : 트랜잭션의 작업이 정상적으로 완료되었음을 알림
- ROLLBACK : 트랜잭션의 작업이 비정상적으로 종료 되었을 때 원래의 상태로 복구



